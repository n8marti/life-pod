#:kivy 2.0

<LifePodWin>:
    canvas.before:
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

    PlayerChooser:

    BoxLayout: # whole center area
        spacing: 5
        size_hint: 0.5, 0.5
        pos_hint: {'center_x': .5, 'center_y': .5}
        MinusButton:
        BoxLayout: # blue buttons & screen frame
            spacing: 5
            size_hint: 0.6, 1.0
            orientation: 'vertical'
            BlueBoxLayout: # top 3 buttons
                EnterButton:
                SpinButton:
                UndoButton:

            # display screen
            ScreenBoxLayout:
                orientation: 'vertical'
                ScreenBoxLayout:  # used to display physical assets
                    size_hint_y: 1/5
                    ScreenImage:
                        id: house_modest
                        size_hint_x: 1/6
                        source: "img/blank.png"
                    ScreenImage:
                        id: house_midsized
                        size_hint_x: 1/6
                        source: "img/blank.png"
                    ScreenImage:
                        id: house_mansion
                        size_hint_x: 1/6
                        source: "img/blank.png"
                    ScreenImage:
                        id: car_economy
                        size_hint_x: 1/6
                        source: "img/car-economy.png"
                    ScreenImage:
                        id: car_sports
                        size_hint_x: 1/6
                        source: "img/car-sports.png"
                    ScreenImage:  # baby image
                        size_hint_x: 1/12
                        source: "img/babies.png"
                    ScreenLabel:
                        id: baby_count
                        size_hint_x: 1/12
                        text: "0"
                ScreenBoxLayout:
                    size_hint_y: 2/5
                    ScreenLabel:
                        size_hint_x: 1/10
                        text: "$"
                    ScreenLabel:  # used to display messages and dollars
                        size_hint_x: 8/10
                        id: display1
                    ScreenBoxLayout:
                        size_hint_x: 1/10
                        orientation: 'vertical'
                        ScreenImage:  # wedding ring
                            source: "img/married.png"
                        ScreenLabel:  # +/-
                            id: sign
                ScreenBoxLayout:
                    size_hint_y: 2/5
                    ScreenImage:  # heart
                        source: "img/blank.png"
                        size_hint_x: 1/10
                    ScreenLabel:  # used to echo user input
                        id: display2
                        size_hint_x: 8/10
                    ScreenBoxLayout:
                        size_hint_x: 1/10
                        orientation: 'vertical'
                        ScreenImage: # clock
                            source: "img/clock.png"
                        ScreenLabel:
                            id: remaining_rounds

            BlueBoxLayout: # bottom 2 buttons
                DollarUnitButton:
                LifePointsUnitButton:
        PlusButton:

    # Number buttons
    NumButton:
        text: "0"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "1"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "2"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "3"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "4"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "5"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "6"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "7"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "8"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "9"
        pos_hint: self._get_pos_hint()

    NumButton:
        text: "10"
        pos_hint: self._get_pos_hint()


<BlueBoxLayout@BoxLayout>:
    size_hint: 1, 0.25
    spacing: 5


<ScreenImage@Image>
    canvas.before:
        Color:
            rgba: (0.6, 0.6, 0.6, 1)
        Rectangle:
            pos: self.pos
            size: self.size
    fit_mode: "contain"


<ScreenBoxLayout@BoxLayout>:
    canvas.before:
        Color:
            rgba: (0.6, 0.6, 0.6, 1)
        Rectangle:
            pos: self.pos
            size: self.size


<ScreenLabel@Label>:
    halign: 'right'
    color: (0, 0, 0, 1)


<BlueButton>:
    background_normal: ''
    background_color: (0.2, 0.75, 1, 1)
    color: (0, 0, 0, 1)
    bold: True

<EnterButton@BlueButton>:
    text: "Enter"
    on_press: app.root.handle_enter()

<SpinButton@BlueButton>:
    text: "Spin"
    on_press: app.root.handle_spin()

<UndoButton@BlueButton>:
    text: "Undo"
    on_press: app.root.handle_undo()

<DollarUnitButton@BlueButton>:
    text: "$"
    on_press: app.root.handle_dollars()

<LifePointsUnitButton@BlueButton>:
    text: "Life Points"
    on_press: app.root.handle_life_points()


<RedButton>:
    background_normal: ''
    background_color: (1, 0, 0.2, 1)
    color: (0, 0, 0, 1)
    bold: True
    size_hint: 0.1, 0.15
    padding: 5
    pos_hint: {'center_x': .5, 'center_y': .5}
    font_size: 20

<MinusButton@RedButton>
    text: "-"
    on_press: app.root.handle_minus()

<PlusButton@RedButton>
    text: "+"
    on_press: app.root.handle_plus()


<NumButton>:
    background_normal: ''
    background_color: (0.75, 0.75, 0.75, 1)
    color: (0, 0, 0, 1)
    bold: True
    size_hint: (0.05, 0.05)
    on_press: app.root.handle_num_input(self.text)


<PlayerChooser@BoxLayout>
    size_hint: (0.15, 0.25)
    pos_hint: {'right': 0.95, 'top': 1}
    orientation: 'vertical'
    spacing: 5
    Label:
        #size_hint: (None, 0.30)
        color: (0, 0, 0, 1)
        font_size: 20
        halign: 'left'
        text: 'Player'
    PlayerChoiceNone:
    PlayerChoiceRed:
    PlayerChoiceYellow:
    PlayerChoiceGreen:
    PlayerChoiceBlue:


<PlayerRadio@AppCheckBox>:
    group: 'player'
    color: (0.75, 0.75, 0.75, 1)

<PlayerLabel@Label>:
    padding: 3
    font_size: 18
    halign: 'left'

<PlayerChoiceNone@BoxLayout>
    PlayerRadio:
        name: "none"
        active: True
        on_active: app.root.handle_player_choice(self)
    PlayerNone:

<PlayerChoiceRed@BoxLayout>
    PlayerRadio:
        name: "red"
        on_active: app.root.handle_player_choice(self)
    PlayerRed:

<PlayerChoiceYellow@BoxLayout>
    PlayerRadio:
        name: "yellow"
        on_active: app.root.handle_player_choice(self)
    PlayerYellow:

<PlayerChoiceGreen@BoxLayout>
    PlayerRadio:
        name: "green"
        on_active: app.root.handle_player_choice(self)
    PlayerGreen:

<PlayerChoiceBlue@BoxLayout>
    PlayerRadio:
        name: "blue"
        on_active: app.root.handle_player_choice(self)
    PlayerBlue:

<PlayerNone@PlayerLabel>
    text: "None"
    color: (0, 0, 0, 1)

<PlayerRed@PlayerLabel>
    #text: "red"
    background_color: (1, 0, 0, 1)
    color: self.background_color
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<PlayerYellow@PlayerLabel>
    #text: "yellow"
    background_color: (1, 1, 0, 1)
    color: self.background_color
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<PlayerGreen@PlayerLabel>
    #text: "green"
    background_color: (0, 1, 0, 1)
    color: self.background_color
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<PlayerBlue@PlayerLabel>
    #text: "blue"
    background_color: (0, 0, 1, 1)
    color: self.background_color
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            size: self.size
            pos: self.pos
